{% extends 'base.twig' %}
{% import "_snippets.twig" as snippets %}

{% block styles %}
  <link rel='stylesheet' href='{{theme.link}}/assets/css/editor.css' type='text/css' media='all' />
{% endblock %}

{% block main %}
  <article id="{{ post.id|e('esc_html') }}" class="{{ post.class|e('esc_html') }} uk-section">

    {% block single_header %}
      {% include '_single-header.twig' %}
    {% endblock %}
    
    {% block single_content %}
      <div class="single-content">
        
        {# single content or password form #}
        {% if not fn('post_password_required', post.id) %}
          <div class="content-editor gutenberg-editor">
            {{ post.content }}
          </div>
        {% else %}
          <div class="password-protected-form uk-container uk-container-small">
            {% include '_password-protected-form.twig' %}
          </div>
        {% endif %}
        
      </div>
    {% endblock %}
    
    {% block single_footer %}
      {% if (post.next or post.prev) and (post.post_type == 'post') and not fn('post_password_required', post.id) %}
        <footer class="single-footer uk-container uk-container-small uk-margin-large-top">
              
          {% block single_share %}
            {% if configs.theme_post_share %}
              {# share goes here... #}
            {% endif %}
          {% endblock %}
      
          {% block single_pagination %}
            {% if configs.theme_post_paging and (post.next or post.prev) %}
              <nav class="article-pagination">
                <ul class="uk-child-width-1-2" uk-grid>
                  
                  {# left #}
                  <li class="prev-article uk-text-left">
                    {% if post.next %}
                      <a href="{{ post.next.link|e('esc_url') }}" class="uk-link-reset">
                        <div class="uk-text-emphasis">
                          <i uk-icon="icon: chevron-double-left; ratio: .8"></i> {{ snippets.prev_post|e('esc_html') }}
                        </div>
                        <div class="uk-text-small uk-text-meta uk-text-truncate uk-visible@m">{{ post.next.title|e('esc_html') }}</div>
                      </a>
                    {% endif %}
                  </li>
                  
                  {# right #}
                  <li class="next-article uk-text-right">
                    {% if post.prev %}
                      <a href="{{ post.prev.link|e('esc_url') }}" class="uk-link-reset">
                        <div class="uk-text-emphasis">
                          {{ snippets.next_post|e('esc_html') }} <i uk-icon="icon: chevron-double-right; ratio: .8"></i>
                        </div>
                        <div class="uk-text-small uk-text-meta uk-text-truncate uk-visible@m">{{ post.prev.title|e('esc_html') }}</div>
                      </a>
                    {% endif %}
                  </li>
                  
                </ul>
              </nav>
            {% endif %}
          {% endblock %}
      
          {% block single_comments %}
            {% if configs.theme_post_comments %}
              {# comments go here... #}
            {% endif %}
          {% endblock %}
          
        </footer>
      {% endif %}
    {% endblock %}
  
  </article>
{% endblock %}